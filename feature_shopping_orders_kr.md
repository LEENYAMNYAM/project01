# 쇼핑 및 주문 기능 - PowerPoint 슬라이드

---
## 슬라이드 1: 쇼핑 및 주문 개요
- 종합적인 쇼핑 경험
- 장바구니에서 주문으로의 원활한 전환
- 주문 추적 및 관리
- 레시피 및 재료 시스템과의 통합
- 사용자 친화적인 쇼핑 인터페이스

---
## 슬라이드 2: 장바구니 기능 메커니즘
- 직관적인 장바구니 추가 프로세스
  - RecipeServiceImpl의 registerRecipe 메소드에서 자동 생성
  - 레시피 등록 시 CartEntity 생성 및 재료 연결
  - 사용자별 장바구니 관리
- 실시간 장바구니 업데이트
  - CartController의 cartList 메소드로 현재 상태 조회
  - 사용자별 장바구니 항목 그룹화 및 표시
- 수량 조정 기능
  - RecipeIngredientsEntity의 quantity 필드로 수량 관리
  - 장바구니 총액에 수량 반영
- 항목 제거 기능
  - CartServiceImpl의 deleteCartItemById 메소드로 구현
  - 장바구니에서 특정 재료 제거 기능
- 세션 간 장바구니 유지
  - DB 기반 장바구니 저장으로 세션 종료 후에도 유지
  - 사용자 로그인 시 기존 장바구니 자동 로드

---
## 슬라이드 3: 장바구니 인터페이스 메커니즘
- 깔끔하고 정돈된 장바구니 표시
  - CartController의 cartList 메소드에서 데이터 준비
  - 레시피별로 재료 그룹화하여 표시
  - 각 그룹별 소계 계산
- 항목 썸네일 및 설명
  - 재료 이미지 및 상세 정보 표시
  - 레시피 제목으로 그룹화된 재료 목록
- 가격 내역 및 소계
  - 재료별 가격과 수량 곱으로 금액 계산
  - 레시피별 소계 및 전체 합계 표시
- 예상 배송 정보
  - 배송비 정보 표시
  - 예상 배송 일정 안내
- 프로모션 코드 적용
  - 할인 코드 입력 및 적용 기능
  - 할인 적용 후 최종 금액 계산

---
## 슬라이드 4: 레시피-장바구니 연동 메커니즘
- 레시피 재료 일괄 추가
  - RecipeServiceImpl의 registerRecipe 메소드에서 처리
  - 레시피 등록 시 모든 재료 자동 장바구니 추가
- 재료 수량 관리
  - RecipeIngredientsEntity의 quantity 필드로 수량 관리
  - 장바구니 총액에 수량 반영
- 레시피별 재료 그룹화
  - CartController에서 레시피별 재료 그룹화 로직 구현
  - Map<String, List<RecipeIngredientsDTO>> 구조로 데이터 정리
- 레시피 정보 연결
  - RecipeRepository를 통해 레시피 제목 조회
  - 재료와 레시피 정보 연결하여 표시
- 장바구니 데이터 관리
  - CartRepository를 통한 장바구니 데이터 접근
  - 사용자별 장바구니 관리

---
## 슬라이드 5: 주문 생성 프로세스 메커니즘
- 간소화된 결제 흐름
  - CartController의 checkout 메소드로 구현
  - 특정 레시피와 장바구니 ID 기반 주문 생성
- 주소 선택 및 관리
  - 사용자 프로필에서 주소 정보 가져오기
  - UserDTO를 통해 배송 정보 제공
- 배송 시간 선택
  - 배송 옵션 선택 기능
  - 선택한 옵션에 따른 배송비 계산
- 특별 지시사항 처리
  - 주문 시 추가 요청사항 입력 기능
  - 배송 메모 등 추가 정보 저장
- 주문 요약 검토
  - 최종 주문 내역 확인 페이지
  - 총액, 배송비, 할인 등 금액 정보 표시

---
## 슬라이드 6: 주문 관리 메커니즘
- 종합적인 주문 내역
  - 사용자별 주문 내역 조회 기능
  - 주문 상태, 날짜, 금액 등 정보 표시
- 주문 상태 추적
  - 주문 상태 코드 관리
  - 상태별 주문 필터링 기능
- 주문 수정 기능
  - 특정 상태에서 주문 정보 수정 가능
  - 배송 전 주문 내용 변경 지원
- 취소 옵션
  - 주문 취소 프로세스
  - 취소 사유 기록 및 환불 처리
- 재주문 기능
  - 이전 주문 기반 새 주문 생성
  - 장바구니에 이전 주문 항목 추가

---
## 슬라이드 7: 배송 옵션 메커니즘
- 예약 배송 선택
  - 배송 날짜 및 시간대 선택 기능
  - 선택한 일정에 따른 배송 처리
- 특급 배송 옵션
  - 빠른 배송 옵션 선택 기능
  - 추가 비용으로 우선 배송 서비스
- 픽업 대안
  - 직접 수령 옵션
  - 픽업 장소 및 시간 선택
- 배송 추적
  - 배송 상태 실시간 추적 기능
  - 배송 단계별 알림 서비스
- 배송 지침 관리
  - 특별 배송 요청사항 입력
  - 부재 시 처리 방법 지정

---
## 슬라이드 8: 재고 연동 메커니즘
- 실시간 재고 확인
  - 주문 처리 전 재고 상태 확인
  - 재고 부족 시 알림 표시
- 품절 알림
  - 재고 없는 상품 표시
  - 대체 상품 추천 기능
- 재입고 알림
  - 품절 상품 재입고 시 알림 서비스
  - 관심 상품 모니터링
- 수량 제한
  - 재고 기반 주문 가능 수량 제한
  - 대량 주문 시 별도 처리
- 대체 상품 제안
  - 품절 상품 대체 추천 알고리즘
  - 유사 상품 자동 추천

---
## 슬라이드 9: 프론트엔드 구현 메커니즘
- 반응형 장바구니 디자인
  - 부트스트랩 기반 반응형 레이아웃
  - 모바일 및 데스크톱 화면 최적화
- 모바일 최적화 결제
  - 모바일 친화적 결제 폼
  - 터치 인터페이스 최적화
- 대화형 주문 추적
  - 주문 상태 시각화
  - 진행 단계 표시 UI
- 장바구니 업데이트 애니메이션
  - 항목 추가/제거 시 시각적 피드백
  - 부드러운 전환 효과
- 직관적인 수량 조절
  - 플러스/마이너스 버튼으로 수량 조절
  - 수량 변경 시 금액 자동 업데이트

---
## 슬라이드 10: 백엔드 구현 메커니즘
- 장바구니 엔티티 구조
  - CartEntity 클래스로 DB 테이블 매핑
  - id, userEntity, totalPrice, recipeIngredients, createdAt 필드
  - 사용자 및 재료와의 관계 설정
- 주문 서비스
  - CartService 인터페이스 정의
  - CartServiceImpl에서 비즈니스 로직 구현
  - 장바구니 조회, 삭제 등 기능 제공
- 재고 연동 서비스
  - 재료 정보와 연계한 재고 관리
  - 주문 시 재고 상태 확인
- 가격 계산 서비스
  - 재료 가격과 수량 기반 금액 계산
  - 배송비, 할인 등 추가 비용 처리
- 데이터 검증 및 정제
  - 입력값 유효성 검사
  - 사용자 권한 검증
  - 데이터 일관성 유지

---
## 슬라이드 11: 데이터베이스 스키마 메커니즘
- 장바구니 테이블 구조
  - id(PK), username(FK), totalPrice, createdAt 필드
  - 사용자와 일대다 관계(ManyToOne)
- 주문 테이블 설계
  - 주문 정보 저장 테이블 구조
  - 주문 상태, 배송 정보 등 필드 포함
- 주문 항목 구성
  - 주문-재료 연결 테이블
  - 주문별 항목 및 수량 관리
- 상태 추적 필드
  - 주문 상태 코드 필드
  - 상태 변경 이력 추적
- 사용자 및 상품 엔티티와의 관계
  - 장바구니-사용자: 다대일 관계(ManyToOne)
  - 장바구니-재료: 일대다 관계(OneToMany)
  - 주문-사용자: 다대일 관계(ManyToOne)

---
## 슬라이드 12: 통합 지점 메커니즘
- 사용자 계정 연결
  - 장바구니와 사용자 계정 연동
  - 로그인 상태 확인 및 권한 검증
  - Principal 객체로 현재 사용자 정보 획득
- 결제 처리 연계
  - 주문 생성 후 결제 시스템으로 연결
  - 결제 완료 후 주문 상태 업데이트
- 재료 재고 업데이트
  - 주문 확정 시 재고 수량 감소
  - 재고 부족 시 주문 제한
- 레시피 시스템 연결
  - 레시피 정보와 장바구니 항목 연동
  - 레시피별 재료 그룹화 및 표시
- 알림 시스템 트리거
  - 주문 상태 변경 시 알림 발송
  - 배송 정보 업데이트 시 알림 트리거