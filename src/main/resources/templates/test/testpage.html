<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6"
      layout:decorate="~{layout/layout}">
<head>
    <meta charset="UTF-8">
    <title>테스트 페이지 - 모든 기능</title>
    <style>
        .feature-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 5px;
            background-color: #f9f9f9;
        }
        .feature-section h2 {
            color: #333;
            margin-top: 0;
            border-bottom: 2px solid #666;
            padding-bottom: 10px;
        }
        .feature-list {
            list-style-type: none;
            padding-left: 0;
        }
        .feature-list li {
            margin-bottom: 10px;
        }
        .feature-list a {
            display: inline-block;
            padding: 8px 15px;
            background-color: #4CAF50;
            color: white;
            text-decoration: none;
            border-radius: 4px;
            transition: background-color 0.3s;
        }
        .feature-list a:hover {
            background-color: #45a049;
        }
        .feature-description {
            margin-top: 5px;
            color: #666;
        }
    </style>
</head>
<body>
    <div layout:fragment="content">
        <h1 class="text-center my-4">테스트 페이지 - 모든 기능</h1>
        <p class="text-center mb-5">이 페이지에서는 애플리케이션의 모든 기능을 테스트할 수 있습니다.</p>

        <!-- 로그인 섹션 - 비로그인 사용자에게만 표시 -->
        <div class="feature-section" sec:authorize="isAnonymous()">
            <h2>로그인</h2>
            <div class="row">
                <div class="col-md-6 mx-auto">
                    <form action="/loginProcess" method="post" class="p-4 bg-light rounded shadow-sm">
                        <div class="mb-3">
                            <label for="username" class="form-label fw-bold">아이디</label>
                            <input type="text" id="username" name="username" class="form-control" 
                                   placeholder="아이디를 입력하세요" required>
                        </div>
                        <div class="mb-3">
                            <label for="password" class="form-label fw-bold">비밀번호</label>
                            <input type="password" id="password" name="password" class="form-control" 
                                   placeholder="비밀번호를 입력하세요" required>
                        </div>
                        <div class="d-grid gap-2">
                            <button type="submit" class="btn btn-primary">로그인</button>
                            <a href="/userinfo/join" class="btn btn-outline-secondary">회원가입</a>
                        </div>
                        <div class="mt-3 text-center">
                            <small class="text-muted">테스트 계정으로 로그인하거나 새로운 계정을 만들어보세요.</small>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- 로그인 환영 메시지 - 로그인 사용자에게만 표시 -->
        <div class="feature-section" sec:authorize="isAuthenticated()">
            <h2>환영합니다!</h2>
            <div class="p-4 bg-light rounded shadow-sm text-center">
                <p class="lead mb-3">
                    <strong><span sec:authentication="name"></span></strong>님, 환영합니다.
                </p>
                <p class="mb-4">테스트 페이지에서 다양한 기능을 사용해보세요.</p>
                <div class="d-grid gap-2 col-md-6 mx-auto">
                    <a href="/userinfo/userinfo" class="btn btn-info">내 정보 보기</a>
                    <a href="/cart/list" class="btn btn-success">내 장바구니</a>
                    <a href="/logout" class="btn btn-outline-danger">로그아웃</a>
                </div>
            </div>
        </div>

        <!-- 사용자 관리 기능 -->
        <div class="feature-section">
            <h2>사용자 관리</h2>
            <ul class="feature-list">
                <li>
                    <a href="/userinfo/join">회원가입</a>
                    <div class="feature-description">새로운 사용자 계정을 생성합니다.</div>
                </li>
                <li>
                    <a href="/userinfo/login">로그인</a>
                    <div class="feature-description">기존 계정으로 로그인합니다.</div>
                </li>
                <li>
                    <a href="/userinfo/userinfo">사용자 정보</a>
                    <div class="feature-description">현재 로그인한 사용자의 정보를 확인합니다.</div>
                </li>
                <li>
                    <a href="/userinfo/userupdate">사용자 정보 수정</a>
                    <div class="feature-description">사용자 정보를 수정합니다.</div>
                </li>
                <li>
                    <a href="/userinfo/delete">회원 탈퇴</a>
                    <div class="feature-description">사용자 계정을 삭제합니다.</div>
                </li>
            </ul>
        </div>

        <!-- 레시피 기능 -->
        <div class="feature-section">
            <h2>레시피</h2>
            <ul class="feature-list">
                <li>
                    <a href="/recipe/register">레시피 등록</a>
                    <div class="feature-description">새로운 레시피를 등록합니다.</div>
                </li>
                <li>
                    <a href="/recipe/list">레시피 목록</a>
                    <div class="feature-description">등록된 모든 레시피를 확인합니다.</div>
                </li>
            </ul>
        </div>

        <!-- 공지사항 기능 -->
        <div class="feature-section">
            <h2>공지사항</h2>
            <ul class="feature-list">
                <li>
                    <a href="/notice/list">공지사항 목록</a>
                    <div class="feature-description">모든 공지사항을 확인합니다.</div>
                </li>
            </ul>
        </div>

        <!-- Q&A 게시판 기능 -->
        <div class="feature-section">
            <h2>Q&A 게시판</h2>
            <ul class="feature-list">
                <li>
                    <a href="/csboard/list">Q&A 게시판 목록</a>
                    <div class="feature-description">모든 Q&A 게시글을 확인합니다.</div>
                </li>
                <li>
                    <a href="/csboard/register">Q&A 게시글 작성</a>
                    <div class="feature-description">새로운 Q&A 게시글을 작성합니다.</div>
                </li>
            </ul>
        </div>

        <!-- 리뷰 기능 -->
        <div class="feature-section">
            <h2>리뷰</h2>
            <ul class="feature-list">
                <li>
                    <a href="/reviews/list/1">리뷰 목록 (레시피 ID: 1)</a>
                    <div class="feature-description">레시피에 대한 리뷰 목록을 확인합니다.</div>
                </li>
                <li>
                    <a href="/reviews/register/1">리뷰 작성 (레시피 ID: 1)</a>
                    <div class="feature-description">레시피에 대한 리뷰를 작성합니다.</div>
                </li>
            </ul>
        </div>

        <!-- 장바구니 및 결제 기능 -->
        <div class="feature-section">
            <h2>장바구니 및 결제</h2>
            <ul class="feature-list">
                <li>
                    <a href="/cart/list">장바구니</a>
                    <div class="feature-description">장바구니를 확인합니다.</div>
                </li>
                <li>
                    <a href="/cart/checkout">결제</a>
                    <div class="feature-description">결제 페이지로 이동합니다.</div>
                </li>
            </ul>
        </div>

        <!-- 관리자 기능 - 관리자에게만 표시 -->
        <div class="feature-section" sec:authorize="hasRole('ADMIN')">
            <h2>관리자 기능</h2>
            <ul class="feature-list">
                <li>
                    <a href="/admin/adminlist">회원 관리</a>
                    <div class="feature-description">모든 회원 정보를 관리합니다.</div>
                </li>
                <li>
                    <a href="/admin/ingredientlist">재료 관리</a>
                    <div class="feature-description">모든 재료 정보를 관리합니다.</div>
                </li>
                <li>
                    <a href="/admin/ingredientinsert">재료 등록</a>
                    <div class="feature-description">새로운 재료를 등록합니다.</div>
                </li>
            </ul>
        </div>
    </div>
</body>
</html>
